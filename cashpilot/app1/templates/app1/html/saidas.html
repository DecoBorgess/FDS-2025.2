{% extends "app1/html/base.html" %}
{% block content %}
  <h2>Registrar Saída</h2>

  {% if errors %}
    <ul class="errorlist">
      {% for error in errors %}
        <li>{{ error }}</li>
      {% endfor %}
    </ul>
  {% endif %}

  <form method="post" action="{% url 'saidas' %}">
    {% csrf_token %}

    <p>
      <label for="id_descricao">Descrição:</label><br>
      <select name="descricao" id="id_descricao" required>
        <option value="">-- selecione --</option>
        {% for value, label in opcoes_descricao %}
          <option value="{{ value }}"
            {% if value == selected_descricao %}selected{% endif %}>
            {{ label }}
          </option>
        {% endfor %}
      </select>
    </p>

    <p>
      <label for="id_valor">Valor:</label><br>
      <input type="number" step="0.01" name="valor" id="id_valor"
             value="{{ valor|default:'' }}" required>
    </p>

    <p>
      <label for="id_date">Data:</label><br>
      <input type="date" name="date" id="id_date"
             value="{{ date|default:'' }}" required>
    </p>

    <button type="submit">Enviar</button>
    <input type="hidden" name="next" value="{% url 'index' %}" />
  </form>
{% endblock content %}
