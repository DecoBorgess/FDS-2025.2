]{% extends "app1/html/base.html" %}
{% block content %}

<div class="extrato-container">
  <h1>Extrato Financeiro</h1>

  <table class="movimentacoes-list">
    <thead>
      <tr>
        <th>Descrição</th>
        <th>Valor</th>
        <th>Data</th>
      </tr>
    </thead>
    <tbody>
      {% for entrada in entradas %}
        <tr>
          <td>{{ entrada.descricao }}</td>
          <td class="valor entrada">{{ entrada.valor }}</td>
          <td>{{ entrada.date }}</td>
        </tr>
      {% endfor %}
      {% for saida in saidas %}
        <tr>
          <td>{{ saida.descricao }}</td>
          <td class="valor saida">{{ saida.valor }}</td>
          <td>{{ saida.date }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>

  <form action="{% url 'csv' %}" method="get">
      <button id="botao_exportar_csv" type="submit" class="btn csv">Exportar CSV</button>
  </form>

  <form action="{% url 'pdf' %}" method="get">
      <button id="botao_exportar_pdf" type="submit" class="btn pdf">Exportar PDF</button>
  </form>
</div>

<!-- ESTILOS -->
<style>
    body {
        font-family: Arial, sans-serif;
        color: #333;
        margin: 0;
        padding: 20px;
        background-color: #f4f4f4;
    }

    .extrato-container {
        max-width: 1200px;
        margin: 40px auto;
        background-color: #fff;
        padding: 30px;
        border-radius: 16px;
        box-shadow: 0 0 15px rgba(0,0,0,0.1);
    }

    .extrato-container h1 {
        text-align: left;
        margin-bottom: 30px;
        font-size: 24px;
        color: #444;
    }

    /* --- Tabela de movimentações --- */
    .movimentacoes-list {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
        font-family: Arial, sans-serif;
    }

    .movimentacoes-list th, .movimentacoes-list td {
        border: 1px solid #ddd;
        padding: 12px 15px;
        text-align: left;
    }

    .movimentacoes-list th {
        background-color: #f2f2f2;
        font-weight: bold;
    }

    .movimentacoes-list tr:nth-child(even) {
        background-color: #f9f9f9;
    }

    .movimentacoes-list tr:hover {
        background-color: #e9e9e9;
    }

    .valor {
        font-family: 'Courier New', Courier, monospace;
        font-weight: bold;
        font-size: 16px;
        white-space: nowrap;
    }

    .valor.entrada { color: #28a745; } /* verde */
    .valor.saida { color: #dc3545; }   /* vermelho */

    /* --- Botões CSV e PDF --- */
    button.btn.csv {
        background-color: #007bff; /* azul */
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 6px;
        cursor: pointer;
        font-size: 16px;
        margin: 5px 0;
        transition: background-color 0.3s;
    }

    button.btn.csv:hover {
        background-color: #0056b3;
    }

    button.btn.pdf {
        background-color: #dc3545; /* vermelho */
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 6px;
        cursor: pointer;
        font-size: 16px;
        margin: 5px 0;
        transition: background-color 0.3s;
    }

    button.btn.pdf:hover {
        background-color: #a71d2a;
    }

    /* --- Responsividade --- */
    @media (max-width: 900px) {
        .extrato-container { max-width: 95%; }
    }
</style>

{% endblock content %}
